---
title: 'JSON-LD'
date: '2024-10-19'
tags: ['Frontend']
draft: false
summary: 'JSON-LDì ìš© ì—¬ì •ê¸°'
images: []
---

ğŸ¦¡ ì‘ì„±ì : íš¨ì¤‘

### ë©”íƒ€ë°ì´í„°

ë©”íƒ€ë°ì´í„°ëŠ” SEOì— ìˆì–´ì„œ í•„ìˆ˜ì ì¸ ì—­í• ì„ í•©ë‹ˆë‹¤.

ë³´í†µ HTMLì˜ headë¶€ë¶„ì— ìœ„ì¹˜í•œ metaíƒœê·¸ë¥¼ í†µí•´ ì •ì˜ë˜ëŠ”ë°, ì´ ì •ë³´ëŠ” ê²€ìƒ‰ ì—”ì§„ì´ í˜ì´ì§€ì˜ ë‚´ìš©ì„ ì´í•´í•˜ëŠ” ë° ë„ì›€ì„ ì¤ë‹ˆë‹¤.

Nextì—ì„œëŠ” layout.tsxì´ë‚˜ page.tsxì—ì„œ ì •ì ì¸ metadataë¥¼ ì •ì˜í•˜ëŠ” í¸ì…ë‹ˆë‹¤.

ë§Œì•½ ë™ì ì¸ metadataê°€ í•„ìš”í•œ ìƒí™©ì´ë¼ë©´ ë™ì ìœ¼ë¡œ metadataë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆì”ë‹ˆë‹¤. (ì•„ë˜ì˜ ì˜ˆì‹œì²˜ëŸ¼ìš”!)

```tsx
export async function generateMetadata({
  params,
}: {
  params: {
    slug: string
  }
}): Promise<Metadata> {
  const post = getPostBySlug(params.slug, [
    'title',
    'content',
    'excerpt',
    'date',
    'author',
    'image',
  ])

  const dynamicMetaTag: Metadata = {
    title: post.title,
    description: post.excerpt,
    alternates: {
      canonical: `${getCurrentBasePath()}/blog/${decodeURIComponent(params.slug)}`,
    },
    openGraph: {
      type: 'website',
      siteName: `${post.title}`,
      locale: 'ko-KR',
    },
    keywords: post.title,

    robots: {
      index: true,
      follow: true,
      googleBot: {
        index: true,
        follow: true,
      },
    },
    viewport: {
      width: 'device-width',
      initialScale: 1,
    },
    verification: {
      google: 'g3Daim29whdK1ZzL1CE6pvkYyvSgM5-6C898-TVjiz0',
    },
  }
  return dynamicMetaTag
}
```

### JSON-LD

SEOë¥¼ ìµœì í™” í•˜ëŠ” ë˜ ë‹¤ë¥¸ ë°©ë²• ì¤‘ í•˜ë‚˜ëŠ” JSON-LDë¥¼ ì‚¬ìš©í•˜ëŠ” ê²ƒì…ë‹ˆë‹¤.

JSON-LDëŠ” ì›¹ ì‚¬ì´íŠ¸ì˜ ë°ì´í„°ë¥¼ êµ¬ì¡°í™” í•´, ê²€ìƒ‰ ì—”ì§„ì´ ì½˜í…ì¸ ë¥¼ ë” ì˜ ì´í•´í•˜ë„ë¡ ë„ì™€ì¤ë‹ˆë‹¤.

JSON-LDëŠ” Javascript Object Notation for Linked Dataì˜ ì•½ìì…ë‹ˆë‹¤.

ë§ ê·¸ëŒ€ë¡œ ì—°ê²°ëœ ë°ì´í„°ë¥¼ JSONí˜•ì‹ìœ¼ë¡œ í‘œí˜„í•´ì£¼ëŠ”ë°,

ì˜ˆë¥¼ ë“¤ì–´ ì œí’ˆ ì •ë³´ë‚˜ ì œí’ˆ ë¦¬ìŠ¤íŠ¸ì˜ ì •ë³´ë¥¼ JSON-LDí˜•ì‹ìœ¼ë¡œ ë§ˆí¬ì—… í•˜ë©´, í•´ë‹¹ ì œí’ˆì˜ ì •ë³´ë¥¼ ì§ì ‘ ë³´ì—¬ì¤„ ìˆ˜ ìˆê²Œ ë©ë‹ˆë‹¤.

ë³´í†µ ì´ JSON-LDë„ layoutì´ë‚˜ pageì— ì •ì˜í•˜ëŠ” í¸ì¸ë°ìš”,

ë©”íƒ€ë°ì´í„°ë¥¼ í’ë¶€í•˜ê²Œ í•´ì£¼ê¸° ë•Œë¬¸ì— ìœ ìš©í•©ë‹ˆë‹¤.

ë¨¼ì € layoutì— ê¹€ì„ ë°°ì— ëŒ€í•œ êµ¬ì¡°í™”ëœ ì •ë³´ë¥¼ ì œê³µí•´ë³´ê² ìŠµë‹ˆë‹¤.

ì•„ë˜ì²˜ëŸ¼ JSON-LDë¥¼ ê°ì²´ë¡œ ì •ì˜í•´ì£¼ê³  scriptë¥¼ í†µí•´ ì£¼ì…í•˜ê²Œ ë˜ëŠ”ë°ìš”.

ì•„ë˜ì˜ JSON-LDë¥¼ ë§Œë“¤ê³  layoutì˜ scriptë¶€ë¶„ì— ì£¼ì…ì„ í•´ì¤ë‹ˆë‹¤.

```tsx
<script type="application/ld+json" dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }} />
```

```tsx
//ì „ì—­ layout.tsx

const jsonLd = {
  '@context': 'https://schema.org',
  '@type': 'Organization',
  name: 'ëŒ€í•™ì› ê¹€ì„ ë°°',
  description: 'ì˜ˆë¹„ ëŒ€í•™ì›ìƒê³¼ ì‹¤ì œ ë©ì‹¤ì— ìˆëŠ” ëŒ€í•™ì›ìƒì„ ë§¤ì¹­í•´ì£¼ëŠ” ì„œë¹„ìŠ¤',
  url: 'https://develop.dttx948lk1tf.amplifyapp.com',
  logo: 'https://develop.dttx948lk1tf.amplifyapp.com/og.png',
}
```

ì´ë²ˆì—ëŠ” ì„ ë°° íšŒì›ë“¤ì˜ ì •ë³´ë“¤ì´ ì­‰ ë¦¬ìŠ¤íŠ¸ ë˜ì–´ ë‚˜íƒ€ë‚˜ëŠ” ê³³ì— JSON-LDë¥¼ ì ìš©í•´ë³¼ê²Œìš”.

prefetchQuertë¥¼ í†µí•´ ê°–ê³  ì˜¨ ë°ì´í„°ë¥¼ ì­‰ ëŒë©´ì„œ itemListElementì— í•˜ë‚˜í•˜ë‚˜ì”© ì •ë³´ë¥¼ ì¶”ê°€í•´ì¤ë‹ˆë‹¤.

```tsx
import { Hydrate, QueryClient, dehydrate } from '@tanstack/react-query'
import { getSeniorList } from '@/api/senior/getSeinorList'
import { SeniorList } from '@/components/SeniorList'

export default async function Home() {
  const queryClient = new QueryClient()
  await queryClient.prefetchInfiniteQuery({
    queryKey: ['seniorList'],
    queryFn: () => getSeniorList({ field: 'all', postgradu: 'all', page: 1 }),
    getNextPageParam: (lastPage) => lastPage.data.seniorSearchResponses.length + 1,
  })

  const jsonLd = {
    '@context': 'https://schema.org',
    '@type': 'ItemList',
    itemListElement: [
      {
        '@type': 'Person',
        position: 1,
        item: {
          '@type': 'Person',
          name: 'Senior 1',
          description: 'Description of Senior 1',
        },
      },
    ],
  }

  const seniorData = await queryClient.fetchQuery({
    queryKey: ['seniorList'],
    queryFn: () => getSeniorList({ field: 'all', postgradu: 'all', page: 1 }),
  })

  jsonLd.itemListElement = seniorData.data.seniorSearchResponses.map((senior, index) => ({
    '@type': 'ListItem',
    position: index + 1,
    item: {
      '@type': 'Person',
      name: senior.nickName,
      description: [senior.keyword, senior.lab, senior.professor].join(', '),
      image: senior.profile,
    },
  }))

  return (
    <Hydrate state={dehydrate(queryClient)}>
      <script
        type="application/ld+json"
        dangerouslySetInnerHTML={{ __html: JSON.stringify(jsonLd) }}
      />
      <SeniorList />
    </Hydrate>
  )
}
```

ì´ë ‡ê²Œ ë“±ë¡ì„ í•´ì£¼ë©´ JSON-LDì˜ êµ¬ì¡°í™”ëœ ì •ë³´ê°€ ì˜ í‘œí˜„ë˜ëŠ” ê²ƒì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
